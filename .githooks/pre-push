#!/bin/bash

# Pre-push hook - Auto-commit uncommitted changes before push

# Check for uncommitted changes
if ! git diff-index --quiet HEAD --; then
    echo "📝 Uncommitted changes detected. Auto-committing..."
    
    # Stage all changes
    git add -A
    
    # Create auto-commit
    TIMESTAMP=$(date '+%Y-%m-%d %H:%M:%S')
    git commit -m "Auto-commit: Pre-push changes at $TIMESTAMP

Automatically committed uncommitted changes before push
🤖 Generated by pre-push hook"
    
    echo "✅ Changes auto-committed successfully"
fi

exit 0